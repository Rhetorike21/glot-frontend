{"ast":null,"code":"var _jsxFileName = \"/Users/namseonghun/Desktop/git/GitHub/glot/src/components/Signup/SchoolSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useQuery, useMutation } from 'react-query';\nimport SearchApi from '../../services/SearchSchool';\nimport SearchGetApi from '../../services/SearchSchoolGet';\n\n//기관검색 결과\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Result(props) {\n  _s();\n  const [inputSchool, setInputSchool] = useState(''); //입력한 기관명\n  const [filteredSchool, setFilteredSchool] = useState([]); //필터링된 기관명\n  const [isResult, setIsResult] = useState(false); //검색결과가 있는지 없는지 판단하는 state\n\n  const {\n    data,\n    isLoading,\n    error\n  } = useQuery('searchSchool', () => SearchGetApi(inputSchool), {\n    onSuccess: data => {\n      console.log(data);\n    },\n    onSettled: data => {\n      console.log(data);\n    },\n    onError: error => {\n      console.log(error);\n    },\n    enabled: inputSchool !== '',\n    // inputSchool이 비어있지 않을 때만 실행(입력없이 커서만 올려도 실행되는 것 방지)\n    refetchInterval: 1000 // 1초마다 재요청\n  });\n\n  const onClickSchool = e => {\n    const school = e.target.innerText;\n    setInputSchool(school);\n    setIsResult(false);\n  };\n  const onClickSelfSchool = () => {\n    setInputSchool(inputSchool);\n    setIsResult(false);\n  };\n  useEffect(() => {\n    if (inputSchool !== '') {\n      setIsResult(true);\n    }\n  }, [inputSchool]);\n  useEffect(() => {\n    props.setUserSchool(inputSchool);\n  }, [inputSchool]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"\\uC7AC\\uC9C1 \\uC911\\uC778 \\uD559\\uAD50\\uBA85, \\uD559\\uC6D0\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n      type: \"text\",\n      value: inputSchool,\n      onChange: e => {\n        const school = e.target.value;\n        setInputSchool(school);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), isResult ? /*#__PURE__*/_jsxDEV(ResultArea, {\n      children: [data === null || data === void 0 ? void 0 : data.map((school, index) => /*#__PURE__*/_jsxDEV(School, {\n        onClick: onClickSchool,\n        children: school.includes(inputSchool) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Blue, {\n            children: inputSchool\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), school.substring(inputSchool.length)]\n        }, void 0, true) : school\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this)), /*#__PURE__*/_jsxDEV(ResultInputArea, {\n        children: /*#__PURE__*/_jsxDEV(ResultInput, {\n          onClick: onClickSelfSchool,\n          children: [inputSchool.includes(inputSchool) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Blue, {\n              children: inputSchool\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this), inputSchool.substring(inputSchool.length)]\n          }, void 0, true) : inputSchool, \"(\\uC73C)\\uB85C \\uC9C1\\uC811 \\uB4F1\\uB85D\\uD558\\uAE30\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n}\n_s(Result, \"MLaxzWopsVW054Wxl+DEIwOXXcg=\", false, function () {\n  return [useQuery];\n});\n_c = Result;\n;\nconst Container = styled.div`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-bottom: 20px;\n`;\n_c2 = Container;\nconst Input = styled.input`\n    width: 385px;\n    height: 48px;\n    border: 1px solid #eaebed;\n    border-radius: 10px;\n    margin-top: 5px;\n    margin-left: 5px;\n    margin-bottom: 3px;\n    font-size: 13px;\n    font-weight: 400;\n    padding-left: 15px;\n`;\n_c3 = Input;\nconst ResultArea = styled.div`\n    position: absolute;\n    top: 485px;\n    width: 382px;\n    min-height: 40px;\n    max-height: 240px;\n    margin-left: 4px;\n    margin-top: 3px;\n    padding: 8px;\n    border: 1px solid rgba(234, 235, 237, 1);\n    border-radius: 10px;\n    background-color: #FFFFFF;\n    box-shadow: 0px 4px 20px 0px rgba(89, 96, 99, 0.16);\n    overflow-x: hidden;\n    overflow-y: scroll;\n    &::-webkit-scrollbar {\n        width: 6px;\n    }\n    &::-webkit-scrollbar-thumb {\n        background-color: rgba(183, 184, 186, 1);\n        border-radius: 6px;\n        height: 20%;\n    }\n`;\n_c4 = ResultArea;\nconst ResultInputArea = styled.div`\n    width: 372px;\n    height: 21px;\n    border: none;\n    border-radius: 6px;\n    background-color: #FFFFFF;\n    font-size: 16px;\n    font-weight: 400;\n    padding: 5px;\n    cursor: pointer;\n`;\n_c5 = ResultInputArea;\nconst ResultInput = styled.div`\n    width: 372px;\n    height: 21px;\n    border: none;\n    color: rgba(151, 152, 154, 1);\n    font-size: 16px;\n    font-weight: 400;\n    cursor: pointer;\n`;\n_c6 = ResultInput;\nconst Blue = styled.span`\n    color: #3290ff;\n`;\n_c7 = Blue;\nconst School = styled.div`\n    width: 372px;\n    height: 21px;\n    border: none;\n    border-radius: 6px;\n    background-color: #FFFFFF;\n    margin-bottom: 4px;\n    font-size: 16px;\n    font-weight: 400;\n    padding: 5px;\n    cursor: pointer;\n    &:hover {\n        background-color: #eaebed;\n    }\n`;\n_c8 = School;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Result\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Input\");\n$RefreshReg$(_c4, \"ResultArea\");\n$RefreshReg$(_c5, \"ResultInputArea\");\n$RefreshReg$(_c6, \"ResultInput\");\n$RefreshReg$(_c7, \"Blue\");\n$RefreshReg$(_c8, \"School\");","map":{"version":3,"names":["React","useEffect","useState","styled","useQuery","useMutation","SearchApi","SearchGetApi","jsxDEV","_jsxDEV","Fragment","_Fragment","Result","props","_s","inputSchool","setInputSchool","filteredSchool","setFilteredSchool","isResult","setIsResult","data","isLoading","error","onSuccess","console","log","onSettled","onError","enabled","refetchInterval","onClickSchool","e","school","target","innerText","onClickSelfSchool","setUserSchool","Container","children","Input","placeholder","type","value","onChange","fileName","_jsxFileName","lineNumber","columnNumber","ResultArea","map","index","School","onClick","includes","Blue","substring","length","ResultInputArea","ResultInput","_c","div","_c2","input","_c3","_c4","_c5","_c6","span","_c7","_c8","$RefreshReg$"],"sources":["/Users/namseonghun/Desktop/git/GitHub/glot/src/components/Signup/SchoolSearch.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useQuery,useMutation } from 'react-query';\n\nimport SearchApi from '../../services/SearchSchool';\nimport SearchGetApi from '../../services/SearchSchoolGet';\n\n//기관검색 결과\nexport default function Result(props){\n    const [inputSchool, setInputSchool] = useState(''); //입력한 기관명\n    const [filteredSchool, setFilteredSchool] = useState([]); //필터링된 기관명\n    const [isResult, setIsResult] = useState(false); //검색결과가 있는지 없는지 판단하는 state\n\n    const { data, isLoading, error } = useQuery('searchSchool', () => SearchGetApi(inputSchool),{\n        onSuccess: (data) => {\n            console.log(data);\n        },\n        onSettled: (data) => {\n            console.log(data);\n        },\n        onError: (error) => {\n            console.log(error);\n        },\n        enabled: inputSchool !== '', // inputSchool이 비어있지 않을 때만 실행(입력없이 커서만 올려도 실행되는 것 방지)\n        refetchInterval: 1000, // 1초마다 재요청\n    });\n\n\n    const onClickSchool = (e) => {\n        const school = e.target.innerText;\n        setInputSchool(school);\n        setIsResult(false);\n    };\n\n    const onClickSelfSchool = () => {\n        setInputSchool(inputSchool);\n        setIsResult(false);\n    }\n\n    useEffect(() => {   \n        if (inputSchool !== '') {\n            setIsResult(true);\n        }\n    }\n    , [inputSchool]);\n\n    useEffect(() => {\n        props.setUserSchool(inputSchool);\n    }\n    , [inputSchool]);\n\n    return (\n      <Container>\n        <Input\n          placeholder=\"재직 중인 학교명, 학원명을 입력해주세요\"\n          type=\"text\"\n          value={inputSchool}\n          onChange={(e) => {\n            const school = e.target.value;\n            setInputSchool(school);\n          }}\n        />\n        {isResult ? (\n          <ResultArea>\n            {data?.map((school, index) => (\n              <School key={index} onClick={onClickSchool}>\n                {school.includes(inputSchool) ? (\n                  <>\n                    <Blue>{inputSchool}</Blue>\n                    {school.substring(inputSchool.length)}\n                  </>\n                ) : (\n                  school\n                )}\n              </School>\n            ))}\n            <ResultInputArea>\n              <ResultInput onClick={onClickSelfSchool}>\n                {inputSchool.includes(inputSchool) ? (\n                  <>\n                    <Blue>{inputSchool}</Blue>\n                    {inputSchool.substring(inputSchool.length)}\n                  </>\n                ) : (\n                  inputSchool\n                )}\n                (으)로 직접 등록하기\n              </ResultInput>\n            </ResultInputArea>\n          </ResultArea>\n        ) : (\n          <></>\n        )}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-bottom: 20px;\n`;\n\nconst Input = styled.input`\n    width: 385px;\n    height: 48px;\n    border: 1px solid #eaebed;\n    border-radius: 10px;\n    margin-top: 5px;\n    margin-left: 5px;\n    margin-bottom: 3px;\n    font-size: 13px;\n    font-weight: 400;\n    padding-left: 15px;\n`;\n\nconst ResultArea = styled.div`\n    position: absolute;\n    top: 485px;\n    width: 382px;\n    min-height: 40px;\n    max-height: 240px;\n    margin-left: 4px;\n    margin-top: 3px;\n    padding: 8px;\n    border: 1px solid rgba(234, 235, 237, 1);\n    border-radius: 10px;\n    background-color: #FFFFFF;\n    box-shadow: 0px 4px 20px 0px rgba(89, 96, 99, 0.16);\n    overflow-x: hidden;\n    overflow-y: scroll;\n    &::-webkit-scrollbar {\n        width: 6px;\n    }\n    &::-webkit-scrollbar-thumb {\n        background-color: rgba(183, 184, 186, 1);\n        border-radius: 6px;\n        height: 20%;\n    }\n`;  \n\nconst ResultInputArea = styled.div`\n    width: 372px;\n    height: 21px;\n    border: none;\n    border-radius: 6px;\n    background-color: #FFFFFF;\n    font-size: 16px;\n    font-weight: 400;\n    padding: 5px;\n    cursor: pointer;\n`;\n\nconst ResultInput = styled.div`\n    width: 372px;\n    height: 21px;\n    border: none;\n    color: rgba(151, 152, 154, 1);\n    font-size: 16px;\n    font-weight: 400;\n    cursor: pointer;\n`;\n\nconst Blue = styled.span`\n    color: #3290ff;\n`;\n\nconst School = styled.div`\n    width: 372px;\n    height: 21px;\n    border: none;\n    border-radius: 6px;\n    background-color: #FFFFFF;\n    margin-bottom: 4px;\n    font-size: 16px;\n    font-weight: 400;\n    padding: 5px;\n    cursor: pointer;\n    &:hover {\n        background-color: #eaebed;\n    }\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}