{"ast":null,"code":"var _jsxFileName = \"/Users/namseonghun/Desktop/git/GitHub/glot/src/pages/Writing/Writing.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport dayjs, { Dayjs } from 'dayjs';\nimport makePdf from './Download';\nimport { useReactToPrint } from 'react-to-print';\nimport { useRecoilState } from 'recoil';\nimport { LoginState, WritingTitle, WritingContent, WritingId, Sentence, SentenceList, SentenceType, UserType } from '../../recoil/Atom';\nimport Header from '../../components/Header';\nimport SideBar from '../../components/Writing/SideBar';\nimport Backdrop from '../../components/Modal/Backdrop';\nimport OptionModal from '../../components/Modal/WritingOptionModal';\nimport ExampleModal from '../../components/Modal/WritingExampleModal';\nimport VersionNotice from '../../components/Modal/VersionNoticeModal';\nimport WarningModal from '../../components/Modal/WritingSaveNoticeModal';\nimport WritingSaveApi from '../../services/WritingSave';\nimport WritingDetailApi from '../../services/WritingDetail';\nimport WritingListApi from '../../services/WritingList';\nimport open from '../../asset/open.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Writing() {\n  _s();\n  const [isLogin, setIsLogin] = useRecoilState(LoginState); // 로그인 여부\n  const [isSideBarOpen, setIsSideBarOpen] = useState(true); // 사이드바 제어\n  const [showSaveNoticeModal, setShowSaveNoticeModal] = useState(false); // 작문 저장 여부(모달창 제어)\n  const [isSlashTyped, setIsSlashTyped] = useState(false); // '/' 문자 입력 여부(모달창 제어)\n  const [isVersionNotified, setIsVersionNotified] = useState(false); // 버전 업데이트 알림 여부(모달창 제어)\n  const [selectOption, setSelectOption] = useRecoilState(SentenceType); // 선택한 작문 옵션\n  const [isOptionSelected, setIsOptionSelected] = useState(false); // 작문 옵션 선택 여부(모달창 제어)\n  const [selectOptionExample, setSelectOptionExample] = useRecoilState(SentenceList); // 선택한 작문 옵션의 예시 문장 배열\n  const [selectSentence, setSelectSentence] = useRecoilState(Sentence); // 선택한 작문 옵션의 예시 문장\n  const [writingTitle, setWritingTitle] = useRecoilState(WritingTitle); // 작문 제목\n  const [writingContent, setWritingContent] = useRecoilState(WritingContent); // 작문 내용\n  const [writingId, setWritingId] = useRecoilState(WritingId); // 작문 고유 id\n  const [writingList, setWritingList] = useState([]); // 작문 리스트\n  const [writingListUpdate, setWritingListUpdate] = useState(false); // 사이드바 작문 리스트 업데이트\n  const [coordinates, setCoordinates] = useState({\n    x: 0,\n    y: 0\n  }); // '/' 문자의 위치\n  const [userType, setUserType] = useRecoilState(UserType); // 유저 타입\n\n  const writingAreaRef = useRef(null);\n  const openSideBar = () => {\n    setIsSideBarOpen(true);\n  };\n\n  //작문보드 전체 조회(리스트)\n  useEffect(() => {\n    WritingListApi().then(response => {\n      setWritingList(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [writingListUpdate]);\n\n  // 화면 크기가 변경될 때 사이드바 상태 업데이트\n  useEffect(() => {\n    if (userType !== 'FREE') {\n      setShowSaveNoticeModal(true);\n    }\n\n    // 화면 크기가 변경될 때 사이드바 상태 업데이트\n    const handleResize = () => {\n      if (window.innerWidth < 900) {\n        setIsSideBarOpen(false);\n      } else {\n        setIsSideBarOpen(true);\n      }\n    };\n\n    // 초기 로드 시 한 번 실행\n    handleResize();\n\n    // resize 이벤트 리스너 등록\n    window.addEventListener('resize', handleResize);\n\n    // 컴포넌트 언마운트 시 이벤트 리스너 제거\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  //작문보드 단건 조회(제목,내용)\n  useEffect(() => {\n    if (writingId) {\n      WritingDetailApi(writingId).then(response => {\n        setWritingTitle(response.title);\n        setWritingContent(response.content);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [writingId]);\n\n  // ContentInput에서 '/' 문자 입력 감지 후 위치 계산\n  const handleContentChange = e => {\n    const inputValue = e.target.value;\n    const selectionStart = e.target.selectionStart;\n\n    // 사용자가 '/' 문자를 입력 중이라면 setIsSlashTyped를 true로 설정\n    if (inputValue[selectionStart - 1] === '/') {\n      const coordinates = getSlashCoordinates(e.target);\n      setCoordinates(coordinates);\n      console.log(coordinates);\n      setIsSlashTyped(true);\n    } else {\n      setIsSlashTyped(false);\n    }\n\n    // 나머지 로직은 그대로 유지\n    setWritingContent(inputValue);\n  };\n  const getSlashCoordinates = inputElement => {\n    const inputValue = inputElement.value.substring(0, inputElement.selectionStart);\n    const dummyDiv = document.createElement('div');\n\n    // Copy relevant styles from the input element to the dummy div\n    for (const style of inputElement.computedStyleMap()) {\n      dummyDiv.style[style[0]] = style[1].toString();\n    }\n\n    // Set white-space to pre so that line breaks are preserved\n    dummyDiv.style.whiteSpace = 'pre';\n    dummyDiv.textContent = inputValue;\n    const span = document.createElement('span');\n    dummyDiv.insertBefore(span, null);\n    document.body.insertBefore(dummyDiv, null);\n\n    // Get the coordinates of the dummy div, span, and input element\n    const [divPos, spanPos, inputPos] = [dummyDiv, span, inputElement].map(e => e.getBoundingClientRect());\n\n    // Calculate the starting position of each line\n    const lineStartPositions = inputValue.split('\\n').map((line, index) => {\n      return {\n        x: divPos.x,\n        y: divPos.y + spanPos.offsetHeight * index\n      };\n    });\n\n    // Find the position of the / character in the input\n    const slashPosition = inputValue.lastIndexOf('/');\n\n    // Find the line index that contains the / character\n    let lineIndex = 0;\n    let remainingSlashPosition = slashPosition;\n    while (lineIndex < lineStartPositions.length - 1 && remainingSlashPosition >= 0) {\n      remainingSlashPosition -= inputElement.cols; // Assuming cols attribute is set\n      lineIndex++;\n    }\n\n    // Adjust the x and y coordinates based on the line index\n    const adjustedX = lineStartPositions[lineIndex].x + spanPos.x - divPos.x;\n    const adjustedY = lineStartPositions[lineIndex].y + spanPos.y - divPos.y;\n    document.body.removeChild(dummyDiv);\n    return {\n      x: adjustedX,\n      y: adjustedY\n    };\n  };\n\n  // 작문 옵션 선택 시 작문 내용에 추가\n  useEffect(() => {\n    // 작문 내용에서 마지막의 '/' 문자를 제거\n    const updatedContent = writingContent.endsWith('/') ? writingContent.slice(0, -1) : writingContent;\n    // 선택한 옵션 문장을 추가\n    const newContent = updatedContent + ' ' + selectSentence;\n    setWritingContent(newContent);\n    setSelectOption('');\n    setSelectOptionExample('');\n    setSelectSentence('');\n  }, [selectSentence]);\n\n  // 작문 내용이 500자 이상일 때 버전 업데이트 알림\n  useEffect(() => {\n    if (userType === 'FREE') {\n      const newContent = writingContent;\n      const byteCount = new TextEncoder().encode(newContent).length;\n      if (byteCount > 500) {\n        setIsVersionNotified(true);\n      }\n    }\n    if (writingContent.trim() !== '' || writingTitle.trim() !== '') {\n      const preventClose = e => {\n        e.preventDefault();\n        e.returnValue = '';\n      };\n      window.addEventListener('beforeunload', preventClose);\n      return () => {\n        window.removeEventListener('beforeunload', preventClose);\n      };\n    }\n  }, [writingContent]);\n\n  //인쇄\n  // const onClickPrint = useReactToPrint({\n  //     content: () => writingAreaRef.current,\n  //     documentTitle: `${writingTitle}_${dayjs().format('YYYYMMDDHHmmss')}`,\n  // });\n\n  const pdf = makePdf();\n  const onClickPdf = async e => {\n    e.preventDefault();\n    await pdf.viewWithPdf();\n  };\n\n  // 작문 저장\n  const onClickSave = () => {\n    if (writingTitle || writingContent) {\n      if (!writingId) {\n        // 작문을 처음 저장하는 경우 writingId가 없으므로 빈 문자열을 전달\n        WritingSaveApi(writingId, writingTitle, writingContent).then(response => {\n          setWritingId(response.data); // 저장하면 작문 고유 id를 받아옴\n          setWritingListUpdate(!writingListUpdate); // 사이드바 작문 리스트 업데이트\n          alert('작문이 저장되었습니다.');\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        // 작문을 수정하는 경우\n        WritingSaveApi(writingId, writingTitle, writingContent).then(response => {\n          setWritingListUpdate(!writingListUpdate); // 사이드바 작문 리스트 업데이트\n          alert('수정이 완료되었습니다.');\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this), isSideBarOpen ? /*#__PURE__*/_jsxDEV(Content, {\n      children: [/*#__PURE__*/_jsxDEV(SideBar, {\n        isSideBarOpen: isSideBarOpen,\n        setIsSideBarOpen: setIsSideBarOpen,\n        writingList: writingList,\n        setWritingList: setWritingList,\n        writingListUpdate: writingListUpdate,\n        setWritingListUpdate: setWritingListUpdate\n        //onClickPrint={onClickPrint}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(InnerContainer, {\n        isSideBarOpen: isSideBarOpen,\n        children: [/*#__PURE__*/_jsxDEV(WritingArea, {\n          ref: writingAreaRef,\n          isSideBarOpen: isSideBarOpen,\n          children: [/*#__PURE__*/_jsxDEV(TitleArea, {\n            children: /*#__PURE__*/_jsxDEV(TitleInput, {\n              type: \"text\",\n              placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              value: writingTitle,\n              onChange: e => setWritingTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ContentArea, {\n            id: \"writingPosition\",\n            children: /*#__PURE__*/_jsxDEV(ContentInput, {\n              placeholder: \"\\uBB38\\uC7A5\\uC744 \\uC785\\uB825\\uD558\\uC5EC \\uC791\\uBB38\\uC744 \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\",\n              value: writingContent,\n              onChange: handleContentChange,\n              disabled: isVersionNotified\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ButtonArea, {\n          userType: userType,\n          children: [/*#__PURE__*/_jsxDEV(SaveButton, {\n            onClick: onClickSave,\n            children: \"\\uC800\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(SaveButton, {\n            onClick: onClickPdf,\n            children: \"\\uCD9C\\uB825\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(PrintArea, {\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            id: \"writing\",\n            children: [/*#__PURE__*/_jsxDEV(PaperTitle, {\n              children: writingTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(PaperContent, {\n              children: writingContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Content, {\n      children: /*#__PURE__*/_jsxDEV(InnerContainer, {\n        isSideBarOpen: isSideBarOpen,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: openSideBar,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: open,\n            alt: \"open\",\n            style: {\n              width: '14px',\n              height: '14px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(WritingArea, {\n          ref: writingAreaRef,\n          id: \"html\",\n          isSideBarOpen: isSideBarOpen,\n          children: [/*#__PURE__*/_jsxDEV(TitleArea, {\n            children: /*#__PURE__*/_jsxDEV(TitleInput, {\n              type: \"text\",\n              placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              value: writingTitle,\n              onChange: e => setWritingTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ContentArea, {\n            children: /*#__PURE__*/_jsxDEV(ContentInput, {\n              placeholder: \"\\uBB38\\uC7A5\\uC744 \\uC785\\uB825\\uD558\\uC5EC \\uC791\\uBB38\\uC744 \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\",\n              value: writingContent,\n              onChange: handleContentChange,\n              disabled: isVersionNotified\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ButtonArea, {\n          userType: userType,\n          children: /*#__PURE__*/_jsxDEV(SaveButton, {\n            onClick: onClickSave,\n            children: \"\\uC800\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 17\n    }, this), isSlashTyped && /*#__PURE__*/_jsxDEV(OptionModal, {\n      setIsSlashTyped: setIsSlashTyped,\n      setIsOptionSelected: setIsOptionSelected,\n      coordinates: coordinates\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 31\n    }, this), isOptionSelected && /*#__PURE__*/_jsxDEV(ExampleModal, {\n      setIsSlashTyped: setIsSlashTyped,\n      setIsOptionSelected: setIsOptionSelected,\n      writingContent: writingContent,\n      setWritingContent: setWritingContent,\n      coordinates: coordinates\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 35\n    }, this), isVersionNotified && /*#__PURE__*/_jsxDEV(VersionNotice, {\n      setIsVersionNotified: setIsVersionNotified\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 36\n    }, this), isVersionNotified && /*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 36\n    }, this), showSaveNoticeModal && /*#__PURE__*/_jsxDEV(WarningModal, {\n      setShowSaveNoticeModal: setShowSaveNoticeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 38\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 9\n  }, this);\n}\n_s(Writing, \"K8MdKiIDSZZv3x9e0t2pkCNsh7Q=\", false, function () {\n  return [useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState];\n});\n_c = Writing;\nconst Container = styled.div`\n    width: 100%;\n    height: 100vh;\n    background-color: #F2F3F5;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n_c2 = Container;\nconst Content = styled.div`\n    width: 100%;\n    height: calc(100% - 80px); /* 80은 헤더의 높이 */\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n`;\n_c3 = Content;\nconst InnerContainer = styled.div`\n    height: 100%;\n    width: ${props => props.isSideBarOpen ? 'calc(100% - 230px)' : '100%'};\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background-color: #f2f3f5;\n    animation: 0.3s ease-in-out;\n`;\n_c4 = InnerContainer;\nconst Button = styled.button`\n    width: 30px;\n    height: 30px;\n    position: absolute;\n    left: 10px;\n    top: 74px;\n    border-radius: 50%;\n    border: none;\n    font-size: 20px;\n    cursor: pointer;\n    margin-top: 20px;\n    background-color: #F2F4F5;\n    &:hover {\n        background-color: #E5E7E9;\n    }\n`;\n_c5 = Button;\nconst WritingArea = styled.div`\n    width: 598px;\n    height: 100%;\n    background-color: #FFFFFF;\n    border: none;\n    display: flex;\n    flex-direction: column;\n    padding: 48px;\n    margin-top: 24px;\n    overflow: auto;\n    animation: 0.3s ease-in-out;\n`;\n_c6 = WritingArea;\nconst TitleArea = styled.div`\n    width: 100%;\n    height: 50px;\n    outline: none;\n    margin-bottom: 20px;\n`;\n_c7 = TitleArea;\nconst TitleInput = styled.input`\n    width: 100%;\n    height: 100%;\n    border: none;\n    outline: none;\n    font-size: 30px;\n    font-weight: 600;\n    &::placeholder {\n        color: rgba(218, 219, 221, 1);\n    }\n`;\n_c8 = TitleInput;\nconst ContentArea = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n_c9 = ContentArea;\nconst ContentInput = styled.textarea`  \n    width: 100%;\n    height: 100%;\n    border: none;\n    outline: none;\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 28.8px;\n    resize: none;\n    white-space: pre-line;\n    &::placeholder {\n        color: rgba(218, 219, 221, 1);\n    }\n`;\n_c10 = ContentInput;\nconst ButtonArea = styled.div`\n    width: 694px;\n    height: 80px;\n    background-color: #FFFFFF;\n    border-top: 1px solid rgba(239, 239, 239, 1);\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    //display: ${props => props.userType === 'FREE' ? 'none' : 'flex'};\n`;\n_c11 = ButtonArea;\nconst SaveButton = styled.button`\n    width: 101px;\n    height: 40px;\n    border: none;\n    border-radius: 99999px;\n    background-color: rgba(17, 17, 17, 1);\n    color: #FFFFFF;\n    font-size: 16px;\n    font-weight: 600;\n    cursor: pointer;\n`;\n_c12 = SaveButton;\nconst PrintArea = styled.div`\n    width: 100%;\n    height: 100%;\n    display: none;\n`;\n_c13 = PrintArea;\nconst Paper = styled.div`\n    height: 842px;\n    width: 595px;\n    margin: 30px;\n    background-color: white;\n    text-align: center;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n`;\n_c14 = Paper;\nconst PaperTitle = styled.div`\n    width: 100%;\n    height: 50px;\n    font-size: 30px;\n    font-weight: 600;\n    line-height: 42px;\n    text-align: center;\n    color: rgba(17, 17, 17, 1);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n`;\n_c15 = PaperTitle;\nconst PaperContent = styled.div`\n    width: 100%;\n    height: 100%;\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 28.8px;\n    letter-spacing: -0.03em;\n    text-align: left;\n    color: rgba(17, 17, 17, 1);\n    padding: 48px;\n    white-space: pre-line;\n`;\n_c16 = PaperContent;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Writing\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Content\");\n$RefreshReg$(_c4, \"InnerContainer\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"WritingArea\");\n$RefreshReg$(_c7, \"TitleArea\");\n$RefreshReg$(_c8, \"TitleInput\");\n$RefreshReg$(_c9, \"ContentArea\");\n$RefreshReg$(_c10, \"ContentInput\");\n$RefreshReg$(_c11, \"ButtonArea\");\n$RefreshReg$(_c12, \"SaveButton\");\n$RefreshReg$(_c13, \"PrintArea\");\n$RefreshReg$(_c14, \"Paper\");\n$RefreshReg$(_c15, \"PaperTitle\");\n$RefreshReg$(_c16, \"PaperContent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","keyframes","dayjs","Dayjs","makePdf","useReactToPrint","useRecoilState","LoginState","WritingTitle","WritingContent","WritingId","Sentence","SentenceList","SentenceType","UserType","Header","SideBar","Backdrop","OptionModal","ExampleModal","VersionNotice","WarningModal","WritingSaveApi","WritingDetailApi","WritingListApi","open","jsxDEV","_jsxDEV","Writing","_s","isLogin","setIsLogin","isSideBarOpen","setIsSideBarOpen","showSaveNoticeModal","setShowSaveNoticeModal","isSlashTyped","setIsSlashTyped","isVersionNotified","setIsVersionNotified","selectOption","setSelectOption","isOptionSelected","setIsOptionSelected","selectOptionExample","setSelectOptionExample","selectSentence","setSelectSentence","writingTitle","setWritingTitle","writingContent","setWritingContent","writingId","setWritingId","writingList","setWritingList","writingListUpdate","setWritingListUpdate","coordinates","setCoordinates","x","y","userType","setUserType","writingAreaRef","openSideBar","then","response","catch","error","console","log","handleResize","window","innerWidth","addEventListener","removeEventListener","title","content","handleContentChange","e","inputValue","target","value","selectionStart","getSlashCoordinates","inputElement","substring","dummyDiv","document","createElement","style","computedStyleMap","toString","whiteSpace","textContent","span","insertBefore","body","divPos","spanPos","inputPos","map","getBoundingClientRect","lineStartPositions","split","line","index","offsetHeight","slashPosition","lastIndexOf","lineIndex","remainingSlashPosition","length","cols","adjustedX","adjustedY","removeChild","updatedContent","endsWith","slice","newContent","byteCount","TextEncoder","encode","trim","preventClose","preventDefault","returnValue","pdf","onClickPdf","viewWithPdf","onClickSave","data","alert","Container","children","fileName","_jsxFileName","lineNumber","columnNumber","Content","InnerContainer","WritingArea","ref","TitleArea","TitleInput","type","placeholder","onChange","ContentArea","id","ContentInput","disabled","ButtonArea","SaveButton","onClick","PrintArea","Paper","PaperTitle","PaperContent","Button","src","alt","width","height","_c","div","_c2","_c3","props","_c4","button","_c5","_c6","_c7","input","_c8","_c9","textarea","_c10","_c11","_c12","_c13","_c14","_c15","_c16","$RefreshReg$"],"sources":["/Users/namseonghun/Desktop/git/GitHub/glot/src/pages/Writing/Writing.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled, {keyframes} from 'styled-components';\nimport dayjs, { Dayjs } from 'dayjs';\nimport makePdf from './Download';\nimport { useReactToPrint } from 'react-to-print';\n\nimport { useRecoilState } from 'recoil';\nimport { LoginState, WritingTitle, WritingContent, WritingId, Sentence, SentenceList, SentenceType, UserType } from '../../recoil/Atom';\n\nimport Header from '../../components/Header';\nimport SideBar from '../../components/Writing/SideBar';\nimport Backdrop from '../../components/Modal/Backdrop';\nimport OptionModal from '../../components/Modal/WritingOptionModal';\nimport ExampleModal from '../../components/Modal/WritingExampleModal';\nimport VersionNotice from '../../components/Modal/VersionNoticeModal';\nimport WarningModal from '../../components/Modal/WritingSaveNoticeModal';\n\nimport WritingSaveApi from '../../services/WritingSave';\nimport WritingDetailApi from '../../services/WritingDetail';\nimport WritingListApi from '../../services/WritingList';\n\nimport open from '../../asset/open.png';\n\nexport default function Writing() {\n\n    const [isLogin, setIsLogin] = useRecoilState(LoginState); // 로그인 여부\n    const [isSideBarOpen, setIsSideBarOpen] = useState(true); // 사이드바 제어\n    const [showSaveNoticeModal, setShowSaveNoticeModal] = useState(false); // 작문 저장 여부(모달창 제어)\n    const [isSlashTyped, setIsSlashTyped] = useState(false); // '/' 문자 입력 여부(모달창 제어)\n    const [isVersionNotified, setIsVersionNotified] = useState(false); // 버전 업데이트 알림 여부(모달창 제어)\n    const [selectOption, setSelectOption] = useRecoilState(SentenceType); // 선택한 작문 옵션\n    const [isOptionSelected, setIsOptionSelected] = useState(false); // 작문 옵션 선택 여부(모달창 제어)\n    const [selectOptionExample, setSelectOptionExample] = useRecoilState(SentenceList); // 선택한 작문 옵션의 예시 문장 배열\n    const [selectSentence, setSelectSentence] = useRecoilState(Sentence); // 선택한 작문 옵션의 예시 문장\n    const [writingTitle, setWritingTitle] = useRecoilState(WritingTitle); // 작문 제목\n    const [writingContent, setWritingContent] = useRecoilState(WritingContent); // 작문 내용\n    const [writingId, setWritingId] = useRecoilState(WritingId); // 작문 고유 id\n    const [writingList, setWritingList] = useState([]) // 작문 리스트\n    const [writingListUpdate, setWritingListUpdate] = useState(false) // 사이드바 작문 리스트 업데이트\n    const [coordinates, setCoordinates] = useState({ x: 0, y: 0 }); // '/' 문자의 위치\n    const [userType, setUserType] = useRecoilState(UserType); // 유저 타입\n\n    const writingAreaRef = useRef(null);\n\n    const openSideBar = () => {\n        setIsSideBarOpen(true);\n    };\n\n    //작문보드 전체 조회(리스트)\n    useEffect(() => {\n        WritingListApi()\n            .then((response) => {\n                setWritingList(response);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    }, [writingListUpdate]);\n    \n    // 화면 크기가 변경될 때 사이드바 상태 업데이트\n    useEffect(() => {\n        if(userType !== 'FREE') {\n            setShowSaveNoticeModal(true);\n        }\n\n        // 화면 크기가 변경될 때 사이드바 상태 업데이트\n        const handleResize = () => {\n            if (window.innerWidth < 900) {\n                setIsSideBarOpen(false);\n            }\n            else {\n                setIsSideBarOpen(true);\n            }\n        };\n\n        // 초기 로드 시 한 번 실행\n        handleResize();\n\n        // resize 이벤트 리스너 등록\n        window.addEventListener('resize', handleResize);\n\n        // 컴포넌트 언마운트 시 이벤트 리스너 제거\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        };\n    }, []);\n\n    //작문보드 단건 조회(제목,내용)\n    useEffect(() => {\n        if (writingId) {\n            WritingDetailApi(writingId)\n                .then((response) => {\n                    setWritingTitle(response.title);\n                    setWritingContent(response.content);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n    }, [writingId]);\n\n    // ContentInput에서 '/' 문자 입력 감지 후 위치 계산\n    const handleContentChange = (e) => {\n        const inputValue = e.target.value;\n        const selectionStart = e.target.selectionStart;\n      \n        // 사용자가 '/' 문자를 입력 중이라면 setIsSlashTyped를 true로 설정\n        if (inputValue[selectionStart - 1] === '/') {\n          const coordinates = getSlashCoordinates(e.target);\n          setCoordinates(coordinates);\n          console.log(coordinates);\n          setIsSlashTyped(true);\n        } else {\n          setIsSlashTyped(false);\n        }\n      \n        // 나머지 로직은 그대로 유지\n        setWritingContent(inputValue);\n      };\n\n      const getSlashCoordinates = (inputElement) => {\n        const inputValue = inputElement.value.substring(0, inputElement.selectionStart);\n        const dummyDiv = document.createElement('div');\n    \n        // Copy relevant styles from the input element to the dummy div\n        for (const style of inputElement.computedStyleMap()) {\n            dummyDiv.style[style[0]] = style[1].toString();\n        }\n    \n        // Set white-space to pre so that line breaks are preserved\n        dummyDiv.style.whiteSpace = 'pre';\n    \n        dummyDiv.textContent = inputValue;\n        const span = document.createElement('span');\n        dummyDiv.insertBefore(span, null);\n        document.body.insertBefore(dummyDiv, null);\n    \n        // Get the coordinates of the dummy div, span, and input element\n        const [divPos, spanPos, inputPos] = [dummyDiv, span, inputElement].map((e) =>\n            e.getBoundingClientRect()\n        );\n    \n        // Calculate the starting position of each line\n        const lineStartPositions = inputValue.split('\\n').map((line, index) => {\n            return {\n                x: divPos.x,\n                y: divPos.y + spanPos.offsetHeight * index,\n            };\n        });\n    \n        // Find the position of the / character in the input\n        const slashPosition = inputValue.lastIndexOf('/');\n    \n        // Find the line index that contains the / character\n        let lineIndex = 0;\n        let remainingSlashPosition = slashPosition;\n        while (lineIndex < lineStartPositions.length - 1 && remainingSlashPosition >= 0) {\n            remainingSlashPosition -= inputElement.cols; // Assuming cols attribute is set\n            lineIndex++;\n        }\n    \n        // Adjust the x and y coordinates based on the line index\n        const adjustedX = lineStartPositions[lineIndex].x + spanPos.x - divPos.x;\n        const adjustedY = lineStartPositions[lineIndex].y + spanPos.y - divPos.y;\n    \n        document.body.removeChild(dummyDiv);\n    \n        return {\n            x: adjustedX,\n            y: adjustedY,\n        };\n    };\n\n    // 작문 옵션 선택 시 작문 내용에 추가\n    useEffect(() => {\n        // 작문 내용에서 마지막의 '/' 문자를 제거\n        const updatedContent = writingContent.endsWith('/') ? writingContent.slice(0, -1) : writingContent;\n        // 선택한 옵션 문장을 추가\n        const newContent = updatedContent + ' ' + selectSentence;\n        setWritingContent(newContent);\n        setSelectOption('');\n        setSelectOptionExample('');\n        setSelectSentence('');\n    }, [selectSentence]);\n\n\n    // 작문 내용이 500자 이상일 때 버전 업데이트 알림\n    useEffect(() => {\n        if (userType === 'FREE') { \n            const newContent = writingContent;\n            const byteCount = new TextEncoder().encode(newContent).length;\n            if(byteCount > 500) {\n                setIsVersionNotified(true);\n            }\n        }\n\n        if (writingContent.trim() !== '' || writingTitle.trim() !== '') {\n            const preventClose = (e) => {\n                e.preventDefault();\n                e.returnValue = '';\n            };\n    \n            window.addEventListener('beforeunload', preventClose);\n    \n            return () => {\n                window.removeEventListener('beforeunload', preventClose);\n            };\n        }\n    }, [writingContent]);\n\n    //인쇄\n    // const onClickPrint = useReactToPrint({\n    //     content: () => writingAreaRef.current,\n    //     documentTitle: `${writingTitle}_${dayjs().format('YYYYMMDDHHmmss')}`,\n    // });\n\n    const pdf = makePdf();\n\n    const onClickPdf = async(e) => {\n        e.preventDefault()\n        await pdf.viewWithPdf()\n    }\n\n    // 작문 저장\n    const onClickSave = () => {\n        if(writingTitle || writingContent) {\n            if (!writingId) {\n                // 작문을 처음 저장하는 경우 writingId가 없으므로 빈 문자열을 전달\n                WritingSaveApi(writingId, writingTitle, writingContent)\n                    .then((response) => {\n                        setWritingId(response.data);  // 저장하면 작문 고유 id를 받아옴\n                        setWritingListUpdate(!writingListUpdate); // 사이드바 작문 리스트 업데이트\n                        alert('작문이 저장되었습니다.');\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    });\n            }\n            else {\n                // 작문을 수정하는 경우\n                WritingSaveApi(writingId, writingTitle, writingContent)\n                    .then((response) => {\n                        setWritingListUpdate(!writingListUpdate); // 사이드바 작문 리스트 업데이트\n                        alert('수정이 완료되었습니다.')\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    });\n            }\n        }\n    };\n\n    return (\n        <Container>\n            <Header />\n            {isSideBarOpen ? (\n                <Content>\n                    <SideBar\n                        isSideBarOpen={isSideBarOpen}\n                        setIsSideBarOpen={setIsSideBarOpen} \n                        writingList={writingList}\n                        setWritingList={setWritingList}\n                        writingListUpdate={writingListUpdate}\n                        setWritingListUpdate={setWritingListUpdate}\n                        //onClickPrint={onClickPrint}\n                    />\n                    <InnerContainer isSideBarOpen={isSideBarOpen}>\n                        <WritingArea ref={writingAreaRef} isSideBarOpen={isSideBarOpen}>\n                            <TitleArea>\n                                <TitleInput\n                                    type=\"text\"\n                                    placeholder=\"제목을 입력해주세요\"\n                                    value={writingTitle}\n                                    onChange={(e) => setWritingTitle(e.target.value)}\n                                />\n                            </TitleArea>\n                            <ContentArea id='writingPosition'>\n                                <ContentInput\n                                    placeholder=\"문장을 입력하여 작문을 시작해보세요!\"\n                                    value={writingContent}\n                                    onChange={handleContentChange}\n                                    disabled={isVersionNotified}\n                                />\n                            </ContentArea>\n                        </WritingArea>\n                        <ButtonArea\n                            userType={userType}\n                        >\n                            <SaveButton onClick={onClickSave}>저장</SaveButton> \n                            <SaveButton onClick={onClickPdf}>출력</SaveButton>\n                        </ButtonArea>\n                        <PrintArea>\n                            <Paper id='writing'>\n                                <PaperTitle>\n                                    {writingTitle}\n                                </PaperTitle>\n                                <PaperContent>\n                                    {writingContent}\n                                </PaperContent>\n                            </Paper>\n                        </PrintArea>\n                    </InnerContainer>\n                </Content>\n            ) : (\n                <Content>\n                    <InnerContainer isSideBarOpen={isSideBarOpen}>\n                        <Button onClick={openSideBar}>\n                            <img \n                                src={open} \n                                alt='open' \n                                style={{\n                                    width: '14px',\n                                    height: '14px',\n                                }}\n                            />\n                        </Button>\n                        <WritingArea ref={writingAreaRef} id='html' isSideBarOpen={isSideBarOpen}>\n                            <TitleArea>\n                                <TitleInput\n                                    type=\"text\"\n                                    placeholder=\"제목을 입력해주세요\"\n                                    value={writingTitle}\n                                    onChange={(e) => setWritingTitle(e.target.value)}\n                                />\n                            </TitleArea>\n                            <ContentArea>\n                                <ContentInput\n                                    placeholder=\"문장을 입력하여 작문을 시작해보세요!\"\n                                    value={writingContent}\n                                    onChange={handleContentChange}\n                                    disabled={isVersionNotified}\n                                />\n                            </ContentArea>\n                        </WritingArea>\n                        <ButtonArea\n                            userType={userType}\n                        >\n                            <SaveButton onClick={onClickSave}>저장</SaveButton> \n                        </ButtonArea>\n                    </InnerContainer>\n                </Content>\n            )}\n            {isSlashTyped && (<OptionModal setIsSlashTyped={setIsSlashTyped} setIsOptionSelected={setIsOptionSelected} coordinates={coordinates}/>)}\n            {isOptionSelected && (<ExampleModal setIsSlashTyped={setIsSlashTyped} setIsOptionSelected={setIsOptionSelected} writingContent={writingContent} setWritingContent={setWritingContent} coordinates={coordinates}/>)}\n            {isVersionNotified && (<VersionNotice setIsVersionNotified={setIsVersionNotified}/>)}\n            {isVersionNotified && (<Backdrop />)}\n            {showSaveNoticeModal && (<WarningModal setShowSaveNoticeModal={setShowSaveNoticeModal}/>)}\n        </Container>\n    );\n}\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100vh;\n    background-color: #F2F3F5;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst Content = styled.div`\n    width: 100%;\n    height: calc(100% - 80px); /* 80은 헤더의 높이 */\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst InnerContainer = styled.div`\n    height: 100%;\n    width: ${props => (props.isSideBarOpen ? 'calc(100% - 230px)' : '100%')};\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background-color: #f2f3f5;\n    animation: 0.3s ease-in-out;\n`;\n\nconst Button = styled.button`\n    width: 30px;\n    height: 30px;\n    position: absolute;\n    left: 10px;\n    top: 74px;\n    border-radius: 50%;\n    border: none;\n    font-size: 20px;\n    cursor: pointer;\n    margin-top: 20px;\n    background-color: #F2F4F5;\n    &:hover {\n        background-color: #E5E7E9;\n    }\n`;\n\nconst WritingArea = styled.div`\n    width: 598px;\n    height: 100%;\n    background-color: #FFFFFF;\n    border: none;\n    display: flex;\n    flex-direction: column;\n    padding: 48px;\n    margin-top: 24px;\n    overflow: auto;\n    animation: 0.3s ease-in-out;\n`;\n\nconst TitleArea = styled.div`\n    width: 100%;\n    height: 50px;\n    outline: none;\n    margin-bottom: 20px;\n`;\n\nconst TitleInput = styled.input`\n    width: 100%;\n    height: 100%;\n    border: none;\n    outline: none;\n    font-size: 30px;\n    font-weight: 600;\n    &::placeholder {\n        color: rgba(218, 219, 221, 1);\n    }\n`;\n\nconst ContentArea = styled.div`\n    width: 100%;\n    height: 100%;\n`; \n\nconst ContentInput = styled.textarea`  \n    width: 100%;\n    height: 100%;\n    border: none;\n    outline: none;\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 28.8px;\n    resize: none;\n    white-space: pre-line;\n    &::placeholder {\n        color: rgba(218, 219, 221, 1);\n    }\n`;\n\nconst ButtonArea = styled.div`\n    width: 694px;\n    height: 80px;\n    background-color: #FFFFFF;\n    border-top: 1px solid rgba(239, 239, 239, 1);\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    //display: ${props => (props.userType === 'FREE' ? 'none' : 'flex')};\n`;\n\nconst SaveButton = styled.button`\n    width: 101px;\n    height: 40px;\n    border: none;\n    border-radius: 99999px;\n    background-color: rgba(17, 17, 17, 1);\n    color: #FFFFFF;\n    font-size: 16px;\n    font-weight: 600;\n    cursor: pointer;\n`;\n\nconst PrintArea = styled.div`\n    width: 100%;\n    height: 100%;\n    display: none;\n`;\n\nconst Paper = styled.div`\n    height: 842px;\n    width: 595px;\n    margin: 30px;\n    background-color: white;\n    text-align: center;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n`;\n\nconst PaperTitle = styled.div`\n    width: 100%;\n    height: 50px;\n    font-size: 30px;\n    font-weight: 600;\n    line-height: 42px;\n    text-align: center;\n    color: rgba(17, 17, 17, 1);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n`;\n\nconst PaperContent = styled.div`\n    width: 100%;\n    height: 100%;\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 28.8px;\n    letter-spacing: -0.03em;\n    text-align: left;\n    color: rgba(17, 17, 17, 1);\n    padding: 48px;\n    white-space: pre-line;\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}